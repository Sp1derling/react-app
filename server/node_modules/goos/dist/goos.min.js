!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("goos",[],t):"object"==typeof exports?exports.goos=t():e.goos=t()}(this,function(){return function(e){function t(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){"use strict";function s(){var e=document.createElement("div");return e.className=r.block.in,document.body.appendChild(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),i=function(e){return e&&e.__esModule?e:{default:e}}(o);n(17);var r={block:{in:"cinema",out:"cinema_out"},outer:"cinema__outer",slide:"cinema__slide",goos:{in:"cinema__goos",out:"cinema__goos_out"}};t.default=function(e){var t=void 0,n={enabled:!1,goos:null},o=function(n){e.classList.remove(r.outer),t.parentNode.removeChild(t)},a=function e(s){var a=s.target;a.classList.remove(r.goos.out),a.classList.remove(r.goos.in),a.dispatchEvent(new CustomEvent("fullscreenChange")),t.addEventListener(i.default,o,!1),t.classList.add(r.block.out),a.removeEventListener(i.default,e),n.enabled=!1},u=function(s,o){s.classList.add(r.goos.in),s.dispatchEvent(new CustomEvent("fullscreenChange")),e.classList.add(r.outer),t.removeChild(o.target),n.enabled=!0,n.goos=s};return{changeEventName:"fullscreenChange",state:n,request:function(e,o){if(!n.enabled){var a=o.cloneNode(!0);t=s(),a.classList.add(r.slide),a.addEventListener(i.default,u.bind(0,e),!1),t.appendChild(a)}},close:function(){n.goos.addEventListener(i.default,a,!1),n.goos.classList.add(r.goos.out)}}}(document.documentElement)},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=n(13),u=s(a),l=n(14),c=s(l),d=n(0),f=s(d),h=n(9),v=s(h),p=function(){function e(t,n){if(o(this,e),t instanceof HTMLElement==!1)return void console.warn("You should pass DOM element as first argument");this.unstableState=!1,this.preventCorrection=!1,this.support=(0,u.default)(),this.setDomElements(t),this.setOptions(n),this.setUserInterface()}return r(e,[{key:"action",value:function(e,t,n,s){}},{key:"prev",value:function(){this.current-=this._options.slideBy}},{key:"next",value:function(){this.current+=this._options.slideBy}},{key:"setDomElements",value:function(e){this.classNames={base:"goos",shaft:"goos__shaft",mods:{init:"goos_init",fullscreen:"goos_fullscreen"},item:"goos__item",close:"goos__close",arrows:{base:"goos__arrow",prev:"goos__arrow_prev",next:"goos__arrow_next"},dots:{init:"goos_nav_dots",base:"goos__dots",item:"goos__dot",active:"goos__dot_active"}},this.block=e,this.shaft=this.block.getElementsByClassName(this.classNames.shaft)[0],this.items=this.shaft.children,this.head=this.items[0],this.dotsContainer=null}},{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,c.default)(this.block.classList),n={current:0,size:t.size||1,slideBy:e.slideBy||t.size,enableArrows:!1,enableDots:!1,allowFullscreen:!0,animateDuration:200},s=e.allowFullscreen||this._options&&this._options.allowFullscreen,o={};if(t.responsive||s){var r=getComputedStyle(this.block,":before").getPropertyValue("content").replace(/'/g,"");r=r.length&&"none"!==r&&parseInt(JSON.parse(r)),r?(o.size=r,o.slideBy=r):o.slideBy=e.slideBy||t.size}this._options=i({},n,this._options,t,e,o),this.current=this._options.current}},{key:"_setCurrentStage",value:function(e){if((e=+e)<=0)return this._options.current=0,void(this._edge="start");var t=this.items.length-this._options.size;if(e>=t)return this._options.current=t,void(this._edge="end");this._options.current=e,this._edge=!1}},{key:"setUserInterface",value:function(){this.block.classList.add(this.classNames.mods.init),this._options.enableDots&&this.createDotsNavigation(),this._addEventListeners(window,this.block,this.options,this.support)}},{key:"_addEventListeners",value:function(e,t,n,s){var o=this;if(s.mutationObserver){new MutationObserver(function(){}).observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]})}n.allowFullscreen&&(this.block.addEventListener(f.default.changeEventName,function(){o.block.classList.toggle(o.classNames.mods.fullscreen),o.unstableState=!0,o.setOptions()}),this.block.addEventListener("click",function(e){e.target.classList.contains(o.classNames.base)&&f.default.close()},!1))}},{key:"createArrows",value:function(){var e=this.classNames.arrows.base,t=e+" "+this.classNames.arrows.prev,n=e+" "+this.classNames.arrows.next;this.arrowNext=(0,v.default)(this.block,n),this.arrowPrev=(0,v.default)(this.block,t),this.setArrowsActivity()}},{key:"createDotsNavigation",value:function(){var e=document.createElement("ul");e.className=this.classNames.dots.base,this.dotsContainer=this.block.appendChild(e),this.setDots(),this.block.classList.add(this.classNames.dots.init)}},{key:"setDots",value:function(){var e=this.dotsContainer,t=this.screens;e&&e.children.length!==t&&(e.innerHTML=Array(t+1).join('<li class="'+this.classNames.dots.item+'"/>')),this.setActiveDot()}},{key:"setActiveDot",value:function(){var e=this.dotsContainer,t=this.classNames.dots.active,n=Math.round(this.current/this._options.slideBy),s=e.getElementsByClassName(t)[0];s&&s.classList.remove(t),e.children[n].classList.add(t)}},{key:"setArrowsActivity",value:function(){if(this.arrowPrev&&this.arrowNext){if(!this._edge)return this.arrowPrev.removeAttribute("disabled"),void this.arrowNext.removeAttribute("disabled");"start"===this._edge&&(this.arrowPrev.setAttribute("disabled",!0),this.arrowNext.removeAttribute("disabled")),"end"===this._edge&&(this.arrowPrev.removeAttribute("disabled"),this.arrowNext.setAttribute("disabled",!0))}}},{key:"setNavigationState",value:function(){this._options.enableArrows&&this.setArrowsActivity(),this._options.enableDots&&this.dotsContainer&&this.setDots()}},{key:"current",set:function(e){this._setCurrentStage(e),this.setNavigationState(),this.action(this.current,this.options,this.support,this.items)},get:function(){return this._options.current}},{key:"options",get:function(){var e=this._options;return{animateDuration:e.animateDuration,allowFullscreen:e.allowFullscreen,enableArrows:e.enableArrows,enableDots:e.enableDots,responsive:e.responsive,size:e.size,slideBy:e.slideBy}}},{key:"screens",get:function(){return Math.floor(this.items.length/this._options.slideBy)}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=void 0;return function(){clearTimeout(n),n=setTimeout(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=+new Date;t.default=window.performance||{now:function(){return+new Date-s}}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),u=function e(t,n,s){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,s)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(s)},l=n(2),c=s(l),d=n(1),f=s(d),h=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),a(t,[{key:"action",value:function(e,t){this.head.style.marginLeft=-100*e+"%"}},{key:"setUserInterface",value:function(){this.options.enableArrows&&this.createArrows(),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setUserInterface",this).call(this)}},{key:"_addEventListeners",value:function(e,n,s,o){var i=this;!0===s.responsive&&e.addEventListener("resize",(0,c.default)(this.setOptions.bind(this),250)),s.enableArrows&&n.addEventListener("click",function(e){var t=e.target,n=i.classNames;if(t.classList.contains(n.arrows.prev)&&i.prev(),t.classList.contains(n.arrows.next)&&i.next(),t.classList.contains(n.dots.item)){var s=[].indexOf.call(i.dotsContainer.children,t),o=Math.round(i.items.length/i.screens*s);i.current!==o&&(i.current=o)}}),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addEventListeners",this).apply(this,arguments)}}]),t}(f.default);t.default=h},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),l=function e(t,n,s){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,s)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(s)},c=n(2),d=s(c),f=n(8),h=s(f),v=n(10),p=s(v),_=n(15),b=s(_),m=n(0),y=s(m),g=n(1),w=s(g),O=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),u(t,[{key:"setUserInterface",value:function(){this.classNames.mods=a(this.classNames.mods,{init:"goos_init_touch",scaling:"goos_scaling",touched:"goos_touched"}),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setUserInterface",this).call(this)}},{key:"setOptions",value:function(e){this.slideWidth=this.head.getBoundingClientRect().width,l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setOptions",this).call(this,e)}},{key:"action",value:function(e,t,n,s){if(!0!==this.preventCorrection){var o=Math.round(e*this.slideWidth);if(o===this.shaft.scrollLeft&&this.unstableState)return void(this.unstableState=!1);if(o!==this.shaft.scrollLeft){if(this.unstableState)return void(this.shaft.scrollLeft=o);this._animateToSlide(o,t.animateDuration)}}}},{key:"_addEventListeners",value:function(e,n,s,o){this._scrollingHandler(),this._rotationHandler(e,o),s.allowFullscreen&&(this._doubleTapHandler(),this._pinchHandler(n,o)),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addEventListeners",this).apply(this,arguments)}},{key:"_animateToSlide",value:function(e,t){var n=this,s=this.shaft.scrollLeft,o=s-e;(0,h.default)(function(e){n.shaft.scrollLeft=s-o*e},t)}},{key:"_doubleTapHandler",value:function(){var e=this,t=!1;this.shaft.addEventListener("touchend",function(n){if(!1===t)return t=!0,void setTimeout(function(){t=!1},300);n.preventDefault();var s=p.default.call(n.target,e.classNames.item);s&&(e.unstableState=!0,y.default.request(e.block,s))})}},{key:"_scrollingHandler",value:function(){var e=this,t=this.shaft,n=function(){!1===e.preventCorrection&&(e.current=Math.round(t.scrollLeft/e.slideWidth)),e.preventCorrection=!1,e.unstableState=!1};t.addEventListener("scroll",(0,d.default)(n,350),!1)}},{key:"_rotationHandler",value:function(e,t){var n=this;e.addEventListener("resize",function(){t.scrollSnap&&!0===n.unstableState&&(n.preventCorrection=!0),n.setOptions()})}},{key:"_pinchHandler",value:function(e,t){var n=this,s=function(){e.classList.add(n.classNames.mods.scaling),e.classList.add(n.classNames.mods.touched)},o=function(e){e.preventDefault();var t=e.scale;t>1.2&&!1===y.default.state.enabled&&(t=1.2+Math.log(t)/20),t<.8&&(t=.8+Math.log(t)/Math.pow(20,2)),n.shaft.style.transform="scale("+t.toFixed(3)+")"},i=function(t){t.scale>.8&&!1===y.default.state.enabled&&(y.default.request(n.block,n.items[n.current]),e.classList.remove(n.classNames.mods.scaling)),n.shaft.style.transform="",e.classList.remove(n.classNames.mods.touched)};if(!0===t.gestureEvents)this.block.addEventListener("gesturestart",s,!1),this.block.addEventListener("gesturechange",o,!1),this.block.addEventListener("gestureend",i,!1);else{var r=void 0;this.block.addEventListener("touchstart",function(e){2===e.touches.length&&(r=e,s())},!1),this.block.addEventListener("touchmove",function(e){if(r){var t={preventDefault:e.preventDefault.bind(e),scale:(0,b.default)(r.touches,e.touches)};o(t)}},!1),this.block.addEventListener("touchend",function(e){r&&(i(e),r=null)})}}}]),t}(w.default);t.default=O},function(e,t){},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(){return!(!window.matchMedia||!matchMedia("(pointer:coarse)").matches)||/mobile/i.test(window.navigator.userAgent)}var i=n(4),r=s(i),a=n(5),u=s(a);n(6),e.exports=function(e,t){var n=o()?u.default:r.default,s=function(e){return new n(e,t)};return e&&e.length?Array.prototype.map.call(e,s):s(e)}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=s(o),r=n(11),a=s(r);t.default=function(e,t,n){var s=i.default.now();(0,a.default)(function o(i){var r=(i-s)/t;r>1&&(r=1);var u=n?n(r):r;e(u),r<1&&(0,a.default)(o)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=document.createElement("button");return n.className=t,n.innerHTML="<i/>",e.insertBefore(n,e.firstChild)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){for(var t=this;t;){if(t.classList.contains(e))return t;t=t.parentElement}return null}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=function(){var e=window,t=function(){var e=0;return function(t){var n=o.default.now(),s=Math.max(0,16-(n-e)),i=n+s;setTimeout(function(){return t(i)},s),e=i}}();return!0===/ucbrowser/i.test(e.navigator.userAgent)?t:e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||e.mozRequestAnimationFrame||t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.createElement("div"),t={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",MsTransition:"MSAnimationEnd"},n=void 0;for(var s in t)if(void 0!==e.style[s]){n=t[s];break}return n}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(16),o=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=function(){return{mutationObserver:"MutationObserver"in window,scrollSnap:(0,o.default)(window),gestureEvents:"ongestureend"in document.documentElement}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{responsive:e.contains("goos_responsive"),size:+(((""+e).match(/goos_size_(\d+)/)||[])[1]||1)}}},function(e,t,n){"use strict";function s(e,t){var n=t.clientX-e.clientX,s=t.clientY-e.clientY;return Math.sqrt(n*n+s*s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return s(t[0],t[1])/s(e[0],e[1])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e="scroll-snap-type: mandatory";return e=["(-webkit-"+e+")","(-ms-"+e+")","("+e+")"].join("or"),!(!window.CSS||!CSS.supports(e))}},function(e,t){}])});